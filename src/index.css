/* =========================================================
   Tailwind (keep these if your project uses Tailwind)
   =========================================================*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   Design Tokens (lux pastel theme + strong black accents)
   =========================================================*/
:root{
  /* layout */
  --header-h: 96px;

  /* ink */
  --ink: #0b0b0c;           /* deep black */
  --ink-muted: #262626;

  /* white & surfaces */
  --white: #ffffff;
  --card: #ffffff;

  /* OUTLINES (hard black, 2px) */
  --outline: 2px solid var(--ink);
  --shadow: 0 2px 0 var(--ink);

  /* Pastel ramp (a touch darker than default) */
  --p-lilac:   #cfc3ff;
  --p-pink:    #f6b9c6;
  --p-peach:   #ffd1a6;
  --p-mint:    #bfead2;
  --p-aqua:    #c8e9ff;
  --p-sage:    #cfe9c2;

  /* Gradients used across cards/panels */
  --g-lilac-mint: linear-gradient(90deg, var(--p-lilac), var(--p-mint));
  --g-pink-aqua:  linear-gradient(90deg, var(--p-pink),  var(--p-aqua));
  --g-peach-sage: linear-gradient(90deg, var(--p-peach), var(--p-sage));

  /* Canvas */
  --canvas: #eef7f1; /* soft mint canvas */
}

/* =========================================================
   Base
   =========================================================*/
html,body,#root{
  height:100%;
}
body{
  background: var(--canvas);
  color: var(--ink);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Strong headings / crisp text */
h1,h2,h3,h4,h5,h6,
strong,b, .font-bold{
  color: var(--ink);
  font-weight: 700 !important;
}

/* Links */
a{
  color: var(--ink);
  text-decoration: underline;
  text-underline-offset: 2px;
}
a:hover{
  opacity:.9;
}

/* Inputs (global) */
input,select,textarea,button{
  color: var(--ink);
}
input::placeholder, textarea::placeholder{
  color: var(--ink-muted);
}

/* =========================================================
   Generic Cards & Panels (used outside React Flow too)
   =========================================================*/
.card,
.panel,
.box{
  background: var(--card);
  border: var(--outline);
  border-radius: 14px;
  box-shadow: var(--shadow);
}

/* Pastel gradient helpers (slightly stronger) */
.pastel-gradient-1{ background: var(--g-lilac-mint); }
.pastel-gradient-2{ background: var(--g-pink-aqua);  }
.pastel-gradient-3{ background: var(--g-peach-sage); }

.pastel-surface{
  background: var(--card);
  background-image: var(--g-lilac-mint);
  background-size: 100% 100%;
}

/* Buttons */
.btn{
  background: var(--card);
  border: var(--outline);
  border-radius: 12px;
  box-shadow: var(--shadow);
  color: var(--ink);
  padding: 10px 16px;
  font-weight: 700;
  line-height: 1;
}
.btn:hover{ transform: translateY(1px); }

/* Pills (for statuses, small accents) */
.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  background: var(--card);
  border: var(--outline);
  border-radius: 999px;
  padding: 6px 10px;
  box-shadow: var(--shadow);
  color: var(--ink);
  font-weight: 700;
}

/* =========================================================
   Knowledge page: darker pastel sections + black outlines
   (applies when you wrap sections with .knowledge-shell)
   =========================================================*/
.knowledge-shell .section{
  border: var(--outline);
  border-radius: 16px;
  box-shadow: var(--shadow);
  background: var(--card);
  overflow: hidden;
}
.knowledge-shell .section--gradient-1{ background-image: var(--g-lilac-mint); }
.knowledge-shell .section--gradient-2{ background-image: var(--g-pink-aqua);  }
.knowledge-shell .section--gradient-3{ background-image: var(--g-peach-sage); }

.knowledge-shell .section .section-title{
  color: var(--ink);
  font-weight: 800;
}

/* Upload “empty” panel look */
.knowledge-shell .empty{
  background: linear-gradient(90deg, #fffad2, #dfeaff);
  border: var(--outline);
  border-radius: 12px;
  box-shadow: var(--shadow);
  color: var(--ink);
}

/* =========================================================
   REACT FLOW — STABILITY + LOOK
   (prevents stacking, keeps arrows, fills height)
   =========================================================*/

/* 1) Make the canvas fill the screen under the header */
.react-flow,
.react-flow__viewport,
.react-flow__renderer{
  min-height: calc(100vh - var(--header-h)) !important;
}

/* 2) Node containers must remain absolute with no outer spacing */
.react-flow__node{
  position: absolute !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  transform-origin: 0 0 !important;
  z-index: 1;
}

/* 3) Style the *inner content* only (first child of the node) */
.react-flow__node > *{
  background: var(--card) !important;
  border: var(--outline) !important;
  border-radius: 14px !important;
  box-shadow: var(--shadow) !important;
  padding: 16px !important;
  color: var(--ink) !important;
}

/* Keep nested form elements clean */
.react-flow__node > * input,
.react-flow__node > * textarea,
.react-flow__node > * select,
.react-flow__node > * button{
  margin: 0 !important;
}

/* 4) Edges & arrows (solid black) */
.react-flow__edge-path{
  stroke: var(--ink) !important;
  stroke-width: 2px !important;
  fill: none !important;
}
.react-flow__edge-marker{
  fill: var(--ink) !important;
}

/* Keep edges above nodes but below menus */
.react-flow__edge{ z-index: 2; }

/* Pan/zoom pane just transparent */
.react-flow__pane{
  background: transparent !important;
}

/* Optional: mild grid polka backdrop (keeps your current look) */
.react-flow__bg{
  opacity: .2;
}

/* 5) Gradients on specific node types (optional if you’ve named them) */
/* Add className on your nodes (e.g., data: { className: 'node-hero' }) */
.node-hero    { background-image: var(--g-lilac-mint) !important; }
.node-emphasize{ background-image: var(--g-pink-aqua)  !important; }
.node-alt     { background-image: var(--g-peach-sage) !important; }

/* 6) Ensure drag handles/resize handles remain visible */
.react-flow__resize-control,
.react-flow__handle{
  border-color: var(--ink) !important;
  background: var(--ink) !important;
}

/* 7) Prevent any global “card” styles from touching RF containers */
[class*="card"],
[class^="card"]{
  /* Leave app card styling here, but DO NOT target .react-flow__node */
}

/* =========================================================
   Utilities you can use in JSX without Tailwind
   =========================================================*/
.text-ink{ color: var(--ink) !important; }
.border-ink{ border: var(--outline) !important; }
.shadow-ink{ box-shadow: var(--shadow) !important; }
.round-14{ border-radius: 14px !important; }
.pad-16{ padding: 16px !important; }

/* Stronger pastel panel helper */
.panel-gradient-strong{
  background-image: var(--g-lilac-mint);
  border: var(--outline);
  box-shadow: var(--shadow);
  border-radius: 16px;
}
